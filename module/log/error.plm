# $Id$
# copyright (c)1997-2000 Yoshinori Hasegawa <hasegawa@madoka.org>

package log_error;

$_ = 'log_error';

sub initialize {
  $FILE = 'error.log';
  if (!-w $FILE) {
    if (!-f $FILE && open(FILE, ">$FILE")) {
      close(FILE);
    }
    chmod((umask() ^ 0666) | 0200, $FILE) if -f $FILE;
  }
  if (open(FILE, ">>$FILE")) {
    open(STDOUT, '>>&FILE');
    open(STDERR, '>>&FILE');
  }
}

