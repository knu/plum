<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"><!-- $_ if 0; # -*- perl -*-
# $Id$
# copyright (c)1998-2000 Yoshinori Hasegawa <hasegawa@madoka.org>

package channel_mode_set;

$_ = 'channel_mode_set';

sub initialize {
}

sub ss_366 {
  local($serverno, $prefix, $cmd, @params) = @_;
  local($userno, $list, $mode);
  if ($params[1] && $'nameslist{$serverno, $params[1]}) {
    if ($'nameslist{$serverno, $params[1]} eq &'list("\@$'nick[$serverno]")) {
      $userno = $'userno[$serverno];
      foreach $line (&'property($userno, 'mode')) {
        ($list, $mode) = split(/\s+/, $line, 2);
        foreach $chan (split(/\,/, $list)) {
          next unless &'real($chan) eq $params[1];
          &'s_print($serverno, '', 'MODE', $params[1], split(/\s+/, $mode));
          last;
        }
      }
    }
  }
  return ($prefix, $cmd, @params);
}

__END__
--><HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-2022-JP">
<LINK REV="made" HREF="mailto:hasegawa@madoka.org">
<TITLE>channel/mode/set.plm</TITLE></HEAD><BODY>

オンラインドキュメント


<HR><H3>名前</H3>

channel/mode/set.plm - チャンネルを作成したときにチャンネルモードを設定する


<HR><H3>説明</H3>

自分がチャンネルに入る以前にはチャンネルが存在せず、
自分がチャンネルに入ることによってチャンネルを作成したとき、
そのチャンネルのチャンネルモードを設定します。


<HR><H3>プロパティ</H3>

<DL>
<DT>  channel.mode.set.mode* (チャンネル名) モード
</DT>
<DD>    チャンネルとそのチャンネルに設定するチャンネルモードを指定します。
</DD>   
</DL>


<HR><H3>設定例</H3>

<PRE>
+ channel/mode/set.plm
channel.mode.set.mode: #ぷらむ +nt
channel.mode.set.mode: #plum:*.jp,#plum +pmk plum
</PRE>

チャンネル「#ぷらむ」を作成したときに、チャンネルモードとして
「+nt」を設定します。
また「#plum:*.jp」もしくは「#plum」を作成したときは、
チャンネルモードとして「+pmk plum」を設定します。

</BODY></HTML>
